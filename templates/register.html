<div id="auth">
<div class="ui middle aligned center aligned grid" style="padding-top: 160px;">
    <div class="column six wide">
        <h2 class="ui image header" style="color: #FFF;">
            <img src="static/icon/carnivorous-plant-flat.png" class="image">
                <div class="content">
                Registration
                </div>
        </h2>
        <form class="ui large form" style="padding-top: 8px;">
            <div class="ui stacked segment">
                <div class="field">
                    <div class="ui input">
                        <input type="text" name="username" id="username" placeholder="Username" value="{{ username }}">
                    </div>
                </div>
                <div class="field">
                    <div class="ui input">
                        <input type="text" name="email" id="email" placeholder="E-Mail">
                    </div>
                </div>
                <div class="field">
                    <div class="ui input">
                        <input type="password" name="password" id="password" placeholder="Password" value="{{ password }}">
                    </div>
                </div>
                <div class="ui fluid large green submit button" onclick="submit_registration()">Register</div>
            </div>
            <div class="ui error message"></div>
        </form>

        {% if message %}
        <div class="ui message">
            {{ message }}
        </div>
        {% endif %}
    </div>
</div>

<script>
    function submit_registration() {
        var username = document.getElementById('username').value;
        var email = document.getElementById('email').value;
        var password = document.getElementById('password').value;
        $.ajax({
                type: "GET",
                url: {% url 'register_user' %},
                data: {'username': username, 'email': email, 'password': password}
            })
            .done(function(response) {
                $('#auth').replaceWith(response);
            })
    }
</script>

</div>